@model EldenGuide.Models.Threads

@{
    ViewData["Title"] = "WriteNewThread";
}
<head>
    <link href="https://unpkg.com/nes.css/css/nes.css" rel="stylesheet" />

    <script src="/js/script.js"></script>
    <link rel="stylesheet" href="/css/bttBtn.css">
    <link rel="stylesheet" href="/css/pingu.css">
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>
<html>

<body>
    <div class="gif-container">
        <div class="gif-text">Use me to translate!</div>
        <img src="/images/penguin.gif" style="max-width:50%; object-fit:contain; height: 10em;" alt="Your GIF">
    </div>
    <div id="google_translate_element"></div>
    <br />
    <br />
    <br />
    <br />
    @using (Html.BeginForm("NewThread", "Thread", FormMethod.Post, new { onsubmit = "return handleSubmit();" }))  //push form in NewGuide controller action where data is stored later on to be pushed to database
    {
        <div class="row mb-3">
            <label asp-for="Title"
                   class="col-sm-3 col-form-label"></label>
            <div class="col-sm-9 col-md-5">
                <input type ="text" name ="Title" id="Title" class="form-control" />
            </div>
        </div>
        <div class="row mb-3">
            <label asp-for="Category"
                   class="col-sm-3 col-form-label"></label>
            <div class="col-sm-9 col-md-5">
                <select name="Category" id="Category" style="font-family:'Times New Roman', Times, serif; font-size:2rem;">
                    <!---Category input-->
                    <option value="All">Select Category: </option>
                    <option value="Banking">Banking</option>
                    <option value="Health">Health</option>
                    <option value="Telecommunications">Telecommunications</option>
                    <option value="Food-Delivery">Food Delivery</option>
                    <option value="Transport">Transport</option>
                </select>
            </div>
        </div>
        <div class="row mb-3">
            <label asp-for="Description"
                   class="col-sm-3 col-form-label"></label>
            <div class="col-sm-9 col-md-5">
                <input type ="text" name = "Desc" id ="Desc" class="form-control" />
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-sm-9 offset-sm-3">
                <input type="submit" />
            </div>
        </div>
        <!--the above doesnt work-->
        
    }

    <form id="form" asp-controller="Thread" asp-action="WriteNewThread" onsubmit="handleSubmit()">
        <input type="hidden" id="category" asp-for="@Model.Category" />       
        <input type="hidden" id="title" asp-for="@Model.Title" />
        <input type="hidden" id="desc" asp-for="@Model.Description" />
    </form>

    <script>
        function handleSubmit() {
            console.log('handleSubmit called');
            document.getElementById('category').value = document.getElementById('Category').value;
            document.getElementById('title').value = document.getElementById('Title').value;
            document.getElementById('desc').value = document.getElementById('Desc').value;
        };

    </script>
</body>
</html>
